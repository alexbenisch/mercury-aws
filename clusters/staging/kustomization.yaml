# =============================================================================
# Bead 5: Flux CD - Cluster Staging Kustomization
# =============================================================================
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # Flux system components (auto-generated by flux bootstrap)
  - flux-system/
  # Ordered Flux Kustomizations: controllers → configs → apps
  # Each layer waits for the previous via dependsOn so CRDs exist before
  # resources that reference them (e.g. SecretProviderClass needs CSI CRDs).
  - kustomizations.yaml
